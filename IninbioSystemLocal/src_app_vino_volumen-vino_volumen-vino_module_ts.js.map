{"version":3,"file":"src_app_vino_volumen-vino_volumen-vino_module_ts.js","mappings":"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","sources":["./src/app/vino/volumen-vino/volumen-vino-routing.module.ts","./src/app/vino/volumen-vino/volumen-vino.module.ts","./src/app/vino/volumen-vino/volumen-vino.page.ts","./src/app/vino/volumen-vino/volumen-vino.page.html"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { VolumenVinoPage } from './volumen-vino.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: VolumenVinoPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class VolumenVinoPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { IonicModule } from '@ionic/angular';\nimport { VolumenVinoPageRoutingModule } from './volumen-vino-routing.module';\nimport { VolumenVinoPage } from './volumen-vino.page';\nimport { TranslateModule, TranslateLoader } from '@ngx-translate/core';\nimport { TranslateHttpLoader } from '@ngx-translate/http-loader';\nimport {  HttpClient } from '@angular/common/http';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    VolumenVinoPageRoutingModule,\n    TranslateModule\n  ],\n  declarations: [VolumenVinoPage]\n})\nexport class VolumenVinoPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport * as Highcharts from 'highcharts';\nimport * as $ from 'jquery';\nimport { Router } from '@angular/router';\nimport { TranslateService } from '@ngx-translate/core';\nimport * as CryptoJS from 'crypto-js';\nimport { environment } from 'src/environments/environment';\n\n@Component({\n  selector: 'app-volumen-vino',\n  templateUrl: './volumen-vino.page.html',\n  styleUrls: ['./volumen-vino.page.scss'],\n})\nexport class VolumenVinoPage implements OnInit {\n\n  showSpinner: boolean = true;\n  intervalFunction : any;\n\n  constructor(private navegacion : Router, private translate : TranslateService) { \n    this.translate.use(localStorage.getItem('idioma'));\n  }\n\n  ngOnInit() {\n  }\n\n  ionViewDidEnter() {\n    this.graficaVolumen();\n  }\n\n  ionViewDidLeave() {\n    clearInterval(this.intervalFunction);\n  }\n\n  graficaVolumen() { \n    var ultimox, ultimoy;\n    var chart;\n    let idTina = localStorage.getItem('idTina');\n    let tinaIndividual = localStorage.getItem('idTina');\n    let empresa = localStorage.getItem('empresa');\n    let categoria = localStorage.getItem('categoria');\n    let idiomas = localStorage.getItem('idioma');\n    let Consultar : number = 1;\n    let token = localStorage.getItem('token');\n\n    setTimeout(function () {\n      if (idiomas === 'en') {\n        Highcharts.charts.forEach(function (ch) {\n          if (ch.options.title.text === 'Mediciones en Tiempo Real') {\n            ch.setTitle({ text: 'Real-Time Measurements' });\n            ch.xAxis[0].update({\n              title: {\n                text: 'Measurement Time',\n              },\n            });\n            ch.yAxis[0].update({\n              title: {\n                text: 'Values °C',\n              },\n            });\n            ch.series[0].name = 'Temperature';\n          }\n          ch.redraw();\n        });\n      }\n      else if (idiomas === 'de') {\n        Highcharts.charts.forEach(function (ch) {\n          if (ch.options.title.text === 'Mediciones en Tiempo Real') {\n            ch.setTitle({ text: 'Echtzeit-Messungen' });\n            ch.xAxis[0].update({\n              title: {\n                text: 'Zeitpunkt der Messung',\n              },\n            });\n            ch.yAxis[0].update({\n              title: {\n                text: 'Werte °C',\n              },\n            });\n            ch.series[0].name = 'Temperatur';\n          }\n          ch.redraw();\n        });\n      }\n    },1000);\n\n    const bytes = CryptoJS.AES.decrypt(empresa, environment.SECRET_KEY);\n    const datoDesencriptado = bytes.toString(CryptoJS.enc.Utf8);\n    \n    var parseo = {'idTina' : idTina, 'empresa' : datoDesencriptado, 'categoria' : categoria};\n    var parseo2 = {'tinaIndividual' : tinaIndividual, 'empresa' : datoDesencriptado, 'Consultar' : Consultar, 'categoria' : categoria};\n    \n    $.ajax({\n      url: 'https://www.ininbio.com//pruebasLocalesFull/datos_Grafica.php',\n      headers: {\"Authorization\": \"Bearer \"+token, \"Content-Type\" : \"application/json\"},\n      type: \"POST\",\n      dataType: \"json\",\n      data : JSON.stringify(parseo),\n      success: function (datosGrafica) {\n        document.getElementById('cargador').style.display = 'none';\n        let volumen = [];\n        $.each(datosGrafica, function (key, value) {\n          var sixHoursInMilliseconds = 6 * 60 * 60 * 1000;\n          var newTimestamp = datosGrafica[key].fecha - sixHoursInMilliseconds;\n          datosGrafica[key].fecha = newTimestamp;\n          if (value.fecha) { datosGrafica[key].fecha = parseInt(value.fecha); }\n          if (value.volumen) { datosGrafica[key].volumen = parseFloat(value.volumen); }\n\n          volumen.push([value.fecha, value.volumen]);\n        }); \n   chart = Highcharts.chart('volumen',{\n    chart: {\n    type: 'spline',\n    backgroundColor : 'transparent',\n    },\n    title: {\n    text: 'Mediciones en Tiempo Real',\n    align: 'center',\n    style: {\n      color: 'black'\n  }\n    },\n    credits: {\n      enabled: false\n  },\n    xAxis: {\n    type: 'datetime',\n    dateTimeLabelFormats: {\n    second: '%H:%M:%S %P',\n    },\n    title: {\n    text: 'Hora de Medición',\n    style: {\n      color: 'black'\n  }\n    },\n    labels: {\n      style: {\n          color: 'black'\n      }\n  },\n  gridLineColor: '#000000'\n    },\n    yAxis: [{\n    title : {\n      text : 'Valores',\n      style: {\n        color: 'black'\n    }\n    },\n    visible : true,\n    plotLines: [{\n    value: 0,\n    width: 1\n    }],\n    labels: {\n      style: {\n          color: 'black'\n      }\n  },\n  gridLineColor: 'black'\n    }],\n    tooltip: {\n    formatter: function () {\n    return '<b>' + this.series.name + '</b><br/>' +\n    Highcharts.dateFormat('%H:%M:%S %P',this.x) + '<br/>' +\n    Highcharts.numberFormat(this.y,2); \n    }\n    },\n    plotOptions: {\n      spline: {\n          marker: {\n              enabled: true\n          }\n      }\n  },\n  legend: {\n    verticalAlign : 'bottom',\n    layout : 'horizontal',\n    alignColumns: false,\n    align : 'center',\n  },\n    exporting: {\n      enabled: false,\n      chartOptions: {\n        plotOptions: {\n            series: {\n                dataLabels: {\n                    enabled: true\n                }\n            }\n        }\n    },\n    fallbackToExportServer: false\n  },\n    series: [{\n    name: 'Volumen',\n    type : \"spline\",\n    // yAxis : 0,\n    data: volumen,\n    color : '#ff14ff'\n    }]\n    });\n    }\n    });\n    setInterval(function () {\n      $.post({\n        url : 'https://www.ininbio.com//pruebasLocalesFull/datos_Grafica.php',\n        headers: {\"Authorization\": \"Bearer \"+token, \"Content-Type\" : \"application/json\"},\n        type : 'POST',\n        data : JSON.stringify(parseo2),\n        dataType : 'json',\n        success : \n        function (UltimosDatos) {\n        if (UltimosDatos.length != 0) {\n          var updateFecha = parseInt(UltimosDatos[0].fecha);\n          var updateVolumen = parseFloat(UltimosDatos[0].volumen);\n          if ((getx() != updateFecha) && (gety() != updateVolumen)) {\n            chart.series[0].addPoint([updateFecha,updateVolumen]);\n          }\n        }\n    }});\n    }, 60000);\n    function getx(){return ultimox;}\n    function gety(){return ultimoy;}\n    }\n\n}\n","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot = \\\"start\\\">\\n      <ion-back-button defaultHref=\\\"/charts-vino\\\"></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>{{\\\"PANTGRAF.GRAFICATEMP\\\" | translate}}</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n<ion-content class=\\\"fondo\\\"> \\n    <ion-card class=\\\"graficas\\\">\\n      <ion-spinner *ngIf=\\\"showSpinner\\\" id=\\\"cargador\\\" name=\\\"circles\\\"></ion-spinner>\\n      <div id=\\\"volumen\\\" style=\\\"display: block;\\\"></div>\\n    </ion-card>\\n</ion-content>\";"],"names":[],"sourceRoot":"webpack:///"}