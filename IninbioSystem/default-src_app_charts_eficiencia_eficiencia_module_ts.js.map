{"version":3,"file":"default-src_app_charts_eficiencia_eficiencia_module_ts.js","mappings":"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","sources":["./src/app/charts/eficiencia/eficiencia-routing.module.ts","./src/app/charts/eficiencia/eficiencia.module.ts","./src/app/charts/eficiencia/eficiencia.page.ts","./src/app/charts/eficiencia/eficiencia.page.html"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { EficienciaPage } from './eficiencia.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: EficienciaPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class EficienciaPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { IonicModule } from '@ionic/angular';\nimport { EficienciaPageRoutingModule } from './eficiencia-routing.module';\nimport { EficienciaPage } from './eficiencia.page';\nimport { TranslateModule, TranslateLoader } from '@ngx-translate/core';\nimport { TranslateHttpLoader } from '@ngx-translate/http-loader';\nimport {  HttpClient } from '@angular/common/http';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    EficienciaPageRoutingModule,\n    TranslateModule,\n  ],\n  declarations: [EficienciaPage]\n})\nexport class EficienciaPageModule {}\n","import { Component, OnInit } from '@angular/core';\r\nimport * as Highcharts from 'highcharts';\r\nimport * as $ from 'jquery';\r\nimport { TranslateService } from '@ngx-translate/core';\r\n\r\n@Component({\r\n  selector: 'app-eficiencia',\r\n  templateUrl: './eficiencia.page.html',\r\n  styleUrls: ['./eficiencia.page.scss'],\r\n})\r\nexport class EficienciaPage implements OnInit {\r\n\r\n  constructor(private translate : TranslateService) {\r\n    this.translate.use(localStorage.getItem('idioma'));\r\n   }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  ionViewWillEnter() {\r\n    this.graficaEficiencia();\r\n    }\r\n  ionViewDidLeave(){\r\n      \r\n    }\r\n\r\n    graficaEficiencia() {\r\n      var ultimox, ultimou;\r\n      var chart;\r\n      let num_tina = localStorage.getItem('idTina');\r\n      let tequilera = localStorage.getItem('tequilera');\r\n      let idiomas = localStorage.getItem('idioma');\r\n\r\n      setTimeout(function () {\r\n        if (idiomas === 'en') {\r\n          Highcharts.charts.forEach(function (ch) {\r\n            if (ch.options.title.text === 'Mediciones en Tiempo Real') {\r\n              ch.setTitle({ text: 'Real-Time Measurements' });\r\n              ch.xAxis[0].update({\r\n                title: {\r\n                  text: 'Measurement Time',\r\n                },\r\n              });\r\n              ch.yAxis[0].update({\r\n                title: {\r\n                  text: 'Values %',\r\n                },\r\n              });\r\n              ch.series[0].name = 'Efficiency';\r\n            }\r\n            ch.redraw();\r\n          });\r\n        }\r\n        else if (idiomas === 'de') {\r\n          Highcharts.charts.forEach(function (ch) {\r\n            if (ch.options.title.text === 'Mediciones en Tiempo Real') {\r\n              ch.setTitle({ text: 'Echtzeit-Messungen' });\r\n              ch.xAxis[0].update({\r\n                title: {\r\n                  text: 'Zeitpunkt der Messung',\r\n                },\r\n              });\r\n              ch.yAxis[0].update({\r\n                title: {\r\n                  text: 'Werte %',\r\n                },\r\n              });\r\n              ch.series[0].name = 'Wirkungsgrad';\r\n            }\r\n            ch.redraw();\r\n          });\r\n        }\r\n      },1000);\r\n      \r\n      $.ajax({ \r\n      url:'https://www.ininbio.com/pruebasLocalesFull/datos_Grafica.php?idTina='+num_tina+'&tequilera='+tequilera,\r\n      type : \"GET\", \r\n      dataType : \"json\",\r\n      success : function(datosGrafica){\r\n      let eficiencia = [];\r\n      $.each(datosGrafica, function(key,value){\r\n      if (value.x){datosGrafica[key].x = parseInt(value.x);}\r\n      if (value.u) {datosGrafica[key].u = parseFloat(value.u);}\r\n  \r\n      eficiencia.push([value.x, value.u]);\r\n      }); \r\n    \r\n     chart = Highcharts.chart('eficiencia',{\r\n      chart: {\r\n      type: 'spline',\r\n      backgroundColor : 'transparent',\r\n      },\r\n      title: {\r\n      text: 'Mediciones en Tiempo Real',\r\n      align: 'center',\r\n      style: {\r\n        color: 'black'\r\n    }\r\n      },\r\n      credits: {\r\n        enabled: false\r\n    },\r\n      xAxis: {\r\n      type: 'datetime',\r\n      dateTimeLabelFormats: {\r\n      second: '%H:%M:%S %P',\r\n      },\r\n      title: {\r\n      text: 'Hora de Medición',\r\n      style: {\r\n        color: 'black'\r\n    }\r\n      },\r\n      labels: {\r\n        style: {\r\n            color: 'black'\r\n        }\r\n    },\r\n    gridLineColor: '#000000'\r\n      },\r\n      yAxis: [{\r\n      title : {\r\n        text : 'Valores %',\r\n        style: {\r\n          color: 'black'\r\n      }\r\n      },\r\n      visible : true,\r\n      plotLines: [{\r\n      value: 0,\r\n      width: 1\r\n      }],\r\n      labels: {\r\n        style: {\r\n            color: 'black'\r\n        }\r\n    },\r\n    gridLineColor: 'black'\r\n      }],\r\n      tooltip: {\r\n      formatter: function () {\r\n      return '<b>' + this.series.name + '</b><br/>' +\r\n      Highcharts.dateFormat('%H:%M:%S %P',this.x) + '<br/>' +\r\n      Highcharts.numberFormat(this.y,2); \r\n      }\r\n      },\r\n      plotOptions: {\r\n        spline: {\r\n            marker: {\r\n                enabled: true\r\n            }\r\n        }\r\n    },\r\n      legend: {\r\n      enabled: false\r\n      },\r\n      exporting: {\r\n        enabled: false,\r\n        chartOptions: {\r\n          plotOptions: {\r\n              series: {\r\n                  dataLabels: {\r\n                      enabled: true\r\n                  }\r\n              }\r\n          }\r\n      },\r\n      fallbackToExportServer: false\r\n    },\r\n      series: [{\r\n      name: '°Brix',\r\n      type : \"spline\",\r\n      yAxis : 0,\r\n      data: eficiencia,\r\n      color : '#1eff05'\r\n      }]\r\n      });\r\n      }\r\n      });\r\n      setInterval(function () {\r\n      $.get(\"https://www.ininbio.com/pruebasLocalesFull/datos_Grafica.php?tinaIndividual=\"+num_tina+\"&tequilera=\"+tequilera+\"&Consultar=1\", function(UltimosDatos) {\r\n      var varlocalx=parseInt(UltimosDatos[0].x);\r\n      var varlocalu=parseFloat(UltimosDatos[0].u);\r\n      \r\n      if((getx()!=varlocalx)&&(getu()!=varlocalu)){\r\n      \r\n      chart.series[0].addPoint([varlocalx, varlocalu]);\r\n      }\r\n      });}, 1000);\r\n      function getx(){return ultimox;}\r\n      function getu(){return ultimou;}\r\n      }\r\n\r\n    refrescar(){\r\n      window.location.assign('/charts');\r\n    }\r\n\r\n}\r\n","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot = \\\"start\\\">\\n      <ion-back-button defaultHref=\\\"/charts\\\"></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>{{\\\"PANTGRAF.GRAFICAEFI\\\" | translate}}</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n<ion-content class=\\\"fondo\\\"> \\n    <ion-card class=\\\"graficas\\\">\\n      <ion-card-header>\\n      </ion-card-header> \\n      <div id=\\\"eficiencia\\\" style=\\\"display: block;\\\"></div>\\n    </ion-card>\\n</ion-content>\";"],"names":[],"sourceRoot":"webpack:///"}